# AGENTS.md: 슬라임 시뮬레이터 프로젝트 가이드

이 문서는 AI 에이전트가 이 슬라임 시뮬레이터 프로젝트를 이해하고, 유지보수 및 추가 개발을 원활하게 수행할 수 있도록 돕기 위해 작성되었습니다.

## 1. 프로젝트 개요

이 프로젝트는 p5.js 라이브러리를 사용하여 제작된 인터랙티브 슬라임 시뮬레이터입니다. "Nature of Code"의 개념에서 영감을 받아 만들어졌습니다. 사용자는 슬라임을 클릭하여 분열시킬 수 있으며, 슬라임들은 서로 충돌하면 합쳐집니다.

## 2. 파일 구조

- `index.html`: p5.js 캔버스를 호스팅하고 필요한 스크립트들을 로드하는 메인 HTML 파일입니다.
- `sketch.js`: 시뮬레이션의 모든 JavaScript 코드를 포함합니다. `Slime` 클래스와 p5.js의 생명주기 함수(`setup`, `draw`, `mousePressed`)들이 여기에 정의되어 있습니다.

## 3. 핵심 로직 (`sketch.js`)

- **`Slime` 클래스**: 각 슬라임의 설계도입니다. 자신의 상태(위치, 크기, 속도 등)와 행동(움직임, 분열, 자기 자신을 그리기 등)을 관리합니다.
- **`setup()`**: 시뮬레이션을 초기화하는 함수입니다. 캔버스를 생성하고 첫 번째 큰 슬라임을 만듭니다.
- **`draw()`**: 매 프레임마다 호출되는 메인 애니메이션 루프입니다. 이 함수는 먼저 슬라임 간의 충돌 및 병합을 확인하고 처리한 후, 모든 슬라임의 위치를 업데이트하고 화면에 표시합니다.
- **`mousePressed()`**: 사용자의 마우스 클릭을 감지하여 슬라임의 `split()` 메소드를 호출하는 역할을 합니다.

## 4. 개발 및 실행 방법

이 프로젝트는 정적(static) 웹 프로젝트입니다. 별도의 빌드 과정이나 로컬 서버가 필요하지 않습니다. 시뮬레이션을 실행하려면 **`index.html` 파일을 웹 브라우저에서 열기만 하면 됩니다.**

## 5. 테스트 및 검증

이 프로젝트에는 정식 테스트 스위트(예: Jest, Mocha)가 없습니다. 모든 변경 사항은 시각적으로 검증해야 합니다.

### 프론트엔드 검증 절차

1.  Playwright를 사용하여 검증 스크립트를 작성합니다.
2.  스크립트는 `file://` 경로를 사용하여 로컬 `index.html` 파일을 열어야 합니다.
3.  클릭이나 대기 같은 액션을 수행하여 특정 기능을 테스트합니다.
4.  스크린샷을 찍어 결과를 시각적으로 확인합니다.

### **‼️ 매우 중요한 검증 시 주의사항 ‼️**

1.  **시각적 렌더링 문제**: 슬라임의 유기적인 움직임을 만드는 `p5.noise()` 함수는 검증에 사용되는 헤드리스(headless) 브라우저 환경에서 **정상적으로 렌더링되지 않습니다.** 따라서 스크린샷에서는 슬라임이 완벽한 원으로 보이게 됩니다. 이는 코드의 버그가 아닌 **테스트 환경의 알려진 한계**입니다. 원 모양으로 보인다고 해서 이를 "수정"하려고 시도하지 마십시오.

2.  **클릭 이벤트 문제**: Playwright를 통해 p5.js 캔버스에 클릭을 시뮬레이션하는 것은 **매우 불안정합니다.** `mousePressed()` 이벤트가 정상적으로 발생하지 않을 수 있습니다. 여러 차례의 디버깅을 통해 이는 코드의 문제가 아닌 환경 문제임을 확인했습니다. 클릭이 필요한 기능을 테스트할 때, 실제 코드에는 문제가 없더라도 자동화된 스크립트에서는 실패할 수 있다는 점을 인지하고 작업해야 합니다.
